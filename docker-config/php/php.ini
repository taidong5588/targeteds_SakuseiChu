; ============================================
; エラー関連設定 (開発環境向け)
; ============================================
display_errors = On
display_startup_errors = On
error_reporting = E_ALL
log_errors = On
error_log = /var/log/php/php-error.log

; ============================================
; 日付と時刻設定
; ============================================
date.timezone = "Asia/Tokyo"

; ============================================
; ファイルアップロード設定
; ============================================
upload_max_filesize = 100M
post_max_size = 100M
max_file_uploads = 20
file_uploads = On

; ============================================
; 文字コード設定
; ============================================
default_charset = "UTF-8"
mbstring.language = Japanese
mbstring.internal_encoding = UTF-8
mbstring.http_input = UTF-8
mbstring.http_output = UTF-8
mbstring.encoding_translation = On
mbstring.detect_order = auto
mbstring.substitute_character = none

; ============================================
; メモリと実行時間設定
; ============================================
memory_limit = 512M
max_execution_time = 300
max_input_time = 300

; ============================================
; セッション設定
; ============================================
session.save_handler = files
session.save_path = "/tmp"
session.use_strict_mode = On
session.use_cookies = On
session.use_only_cookies = On
session.cookie_httponly = On
session.cookie_secure = Off
session.cookie_samesite = Lax
session.gc_maxlifetime = 14400

; ============================================
; OPCache設定 (開発環境用)
; ============================================
opcache.enable = On
opcache.enable_cli = On
opcache.memory_consumption = 128
opcache.interned_strings_buffer = 8
opcache.max_accelerated_files = 10000
opcache.validate_timestamps = On
opcache.revalidate_freq = 2
opcache.save_comments = On

; ============================================
; その他の設定
; ============================================
expose_php = Off
allow_url_fopen = On
allow_url_include = Off
short_open_tag = Off
precision = 14
output_buffering = Off

; ============================================
; パフォーマンス設定
; ============================================
realpath_cache_size = 4096K
realpath_cache_ttl = 600

; ============================================
; アップロードプログレス
; ============================================
session.upload_progress.enabled = On
session.upload_progress.cleanup = On
session.upload_progress.prefix = "upload_progress_"
session.upload_progress.name = "PHP_SESSION_UPLOAD_PROGRESS"
session.upload_progress.freq = "1%"
session.upload_progress.min_freq = 1
